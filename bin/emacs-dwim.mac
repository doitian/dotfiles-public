#!/bin/bash
# Author: Ian Yang

EMACSCLIENT=/Applications/Emacs.app/Contents/MacOS/bin/emacsclient

if ps -u $UID -o comm= | grep "Emacs$"; then
    if [ -n "$1" ]; then
        $EMACSCLIENT "$@"
    fi
    if [ "$1" != "-t" -a "$1" != "-n" ]; then
        open -a Emacs
    fi
else
    open -a Emacs --args "$@"
fi
