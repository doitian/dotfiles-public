#!/usr/bin/env zsh

ZSH=~/.fresh/source/robbyrussell/oh-my-zsh

source "$ZSH/lib/git.zsh"
source "$ZSH/plugins/gitfast/git-prompt.sh"

main() {
  local GIT_PS1_SHOWUPSTREAM="auto"
  local ZSH_THEME_GIT_PROMPT_DIRTY="\e[31m"
  local ZSH_THEME_GIT_PROMPT_CLEAN="\e[32m"
  local dirty

  for repo; do
    cd "$repo"
    printf "%b\t\e[0m %s\n" "$(parse_git_dirty)$(__git_ps1 '%s')" "$(realpath "$repo")"
  done
}

main "$@"
