#!/usr/bin/env zsh

if [ "$1" = "--global" ]; then
  export RBENV_VERSION=$(rbenv global)
  shift
fi

# unset global RBENV_GEMSET
unset RBENV_GEMSET
# unset RUBYOPT set by Bundler
unset RUBYOPT
if [ -z "$1" ]; then
  rbenv gemset active
else
  VAR_ACTION="$1"
  shift
  case "$VAR_ACTION" in
    active|create|delete|file|list|version)
      rbenv gemset "$VAR_ACTION" "$@"
      ;;
    *)
      RBENV_GEMSETS="$VAR_ACTION" "$@"
      ;;
  esac
fi
