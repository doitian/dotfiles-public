set editor=vimperator-editor
set defsearch=-g
set gui=none,bookmarks
set wildmode=list:full
set newtab=all
set popups=resized
set activate+=paste

let mapleader = ","

command! resource :source ~/.vimperatorrc

" history
map <A-[> H
map <A-]> L
imap <A-[> <ESC>H
imap <A-]> <ESC>L
cmap <A-[> <ESC>H
cmap <A-]> <ESC>L

" tab
map J gt
map K gT
map <C-j> gt
map <C-k> gT
map <C-.> gb
map <C-,> gB
map D :tabdetach<return>

map <A-}> gt
map <A-{> gT
imap <A-}> <ESC>gt
imap <A-{> <ESC>gT
cmap <A-}> <ESC>gt
cmap <A-{> <ESC>gT

" move
map <BS> <C-b>
map <C-n> <C-v><Down>
map <C-p> <C-v><Up>

" no quit
map <C-q> <Nop>
imap <C-q> <Nop>
cmap <C-q> <Nop>

nmap <A-Space> gi

" edit in command
cmap <A-BS> <C-BS>
cmap <A-Space> <ESC>
cmap <C-b> <Left>
cmap <C-f> <Right>
cmap <C-p> <Up>
cmap <C-n> <Down>
cmap <C-S-p> <S-Up>
cmap <C-S-n> <S-Down>
cmap <A-b> <C-Left>
cmap <A-f> <C-Right>
cmap <A-d> <C-Del>
cmap <C-g> <ESC>
cmap <A-u> _
cmap <A-l> -
cmap <A-r> <C-BS>
cmap <C-h> <BS>

" edit in insert mode
imap <A-BS> <C-BS>
imap <A-Space> <ESC>
imap <C-b> <Left>
imap <C-f> <Right>
imap <C-p> <Up>
imap <C-n> <Down>
imap <A-b> <C-Left>
imap <A-f> <C-Right>
imap <A-d> <C-Del>
imap <C-g> <ESC>
imap <A-u> _
imap <A-l> -
imap <A-r> <C-BS>
imap <C-h> <BS>

" helper
nmap <leader>B :set gui=invbookmarks<CR>
nmap <leader>b :set gui=invtabs<CR>
nmap <leader>d :bdelete -select right<Space>
nmap <leader>D :bdelete! -select right<Space>
nmap <leader>l :open x-later<CR>
nmap <leader>a :open x-pin<CR>
nmap <leader>r :open x-org<CR>
nmap <leader>s :noscript toggletemp<CR>
nmap <leader>S :noscript popup<CR>

nmap <A-b> i<C-b>
nmap E <C-S-e><C-z>
nmap x :open x-
nmap s :open -

" default qmarks
silent qmark m https://mail.google.com/mail
silent qmark l http://www.instapaper.com/u
silent qmark b http://www.pinboard.in
silent qmark h https://github.com
silent qmark y https://news.ycombinator.com/
silent qmark t https://twitter.com/doitian/fav
silent qmark r http://www.feedly.com/home

silent ignorekeys add www\\.google\\.com/reader
silent ignorekeys add mail\\.google\\.com
silent ignorekeys add trello\\.com
