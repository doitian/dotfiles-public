#!/usr/bin/env bash

set -e
set -u
[ -n "${DEBUG:-}" ] && set -x || true

DIR="$(mktemp -d)"
trap "rm -rf $DIR" exit

FILENAME="$*"
if [ -z "$FILENAME" ]; then
  FILENAME=scratch
elif [[ $FILENAME == .* ]]; then
  FILENAME="scratch$FILENAME"
fi

mkdir -p "$DIR"
mvim -f +"cd $DIR" "$DIR/$FILENAME"
