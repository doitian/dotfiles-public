# yaml-language-server: $schema=https://json.schemastore.org/lazygit.json
promptToReturnFromSubprocess: false
os:
  editPreset: nvim
git:
  autoFetch: false
  parseEmoji: true
gui:
  language: "en"
  commandLogSize: 2
  expandFocusedSidePanel: true
  scrollHeight: 20
  showBottomLine: false
  skipRewordInEditorWarning: false
  theme:
    activeBorderColor:
      - "#40a02b"
      - bold
    inactiveBorderColor:
      - "#6c6f85"
    optionsTextColor:
      - "#1e66f5"
    selectedLineBgColor:
      - "#ccd0da"
    cherryPickedCommitBgColor:
      - "#bcc0cc"
    cherryPickedCommitFgColor:
      - "#40a02b"
    unstagedChangesColor:
      - "#d20f39"
    defaultFgColor:
      - "#4c4f69"
    searchingActiveBorderColor:
      - "#df8e1d"
  authorColors:
    "*": "#7287fd"

customCommands:
  - key: I
    command: "git-ai-commit"
    context: status
    output: terminal
    description: "Git with message generated by AI"
  - key: I
    command: "git-ai-commit"
    context: files
    output: terminal
    description: "Git with message generated by AI"
  - key: G
    command: "gh repo view --web"
    context: files
    description: "Open repo in GitHub"
  - key: G
    command: "gh pr view --web"
    context: localBranches
    description: "Open pull request in GitHub"
  - key: E
    context: commitFiles
    output: terminal
    # - When a file is selected, open the file before the commit
    # - When a directory is selected, open the commit changes limited to that directory
    command: |
      {{if .SelectedCommitFile}}
      git show '{{.SelectedLocalCommit.Sha}}^:{{.SelectedCommitFile.Name}}' |\
      nvim -Rm - +"let b:fname = 'file git://{{.SelectedLocalCommit.Sha}}^/{{.SelectedCommitFile.Name}}'" \
      {{else}}
      git show '{{.SelectedLocalCommit.Sha}}' -- git show {{.SelectedCommitFilePath}} |\
      nvim -Rm - +"let b:fname = 'file git://{{.SelectedLocalCommit.Sha}}/{{.SelectedCommitFilePath}}.patch'" \
      {{end}}--cmd 'set mls=0' \
             +'nnoremap <buffer> q <Cmd>quit<CR>' \
             +"exec 'file '.fnameescape(b:fname) | unlet b:fname | set mls=5 | silent! filetype detect"
